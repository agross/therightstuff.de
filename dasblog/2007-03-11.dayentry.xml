<?xml version="1.0" encoding="utf-8"?>
<DayEntry xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="urn:newtelligence-com:dasblog:runtime:data">
  <Date>2007-03-11T01:00:00.0000000+01:00</Date>
  <Entries>
    <Entry>
      <Content>&lt;p&gt;&lt;img style="margin-bottom: 1em; margin-left: 1em" src="http://www.it99.org/axl/content/binary/WindowsLiveWriter/NowPlaying2.1PluginforWindowsLiveWriter_7EB/nowplaying3.gif" align="right"&gt;Time to release a major update for my &lt;a title="Introductory post about Now Playing" href="http://www.it99.org/axl/2007/01/31/Now+Playing+20+Plugin+For+Windows+Live+Writer.aspx" rel="previewlink"&gt;Now Playing Plugin for Windows Live Writer&lt;/a&gt;. Over the last weeks some minor bugs surfaced, these have been fixed with the current release.&lt;/p&gt; &lt;h3&gt;The %if syntax&lt;/h3&gt; &lt;p&gt;One&amp;nbsp;thing that has been bugging me was that metadata placeholders were included into the resulting markup regardless of the actual content.&amp;nbsp;Imagine you have the Amazon plugin enabled and the &lt;code&gt;%AmazonAlbumUrl%&lt;/code&gt; placeholder somewhere in your markup template:&lt;/p&gt;&lt;pre&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;a&lt;/span&gt; &lt;span style="color: red"&gt;href&lt;/span&gt;&lt;span style="color: blue"&gt;="%AmazonAlbumUrl%"&amp;gt;&lt;/span&gt;%Album%&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;a&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;p&gt;Later, while you're writing a new blog post you're listening to a mixtape that's not listed on Amazon. Because the Amazon plugin cannot find information about your mixtape, Now Playing will leave the placeholder as-is, resulting in bad markup&amp;nbsp;taking your visitors into HTTP Hell™ filled with&amp;nbsp;lots of peculiar&amp;nbsp;errors messages (I've already &lt;a title="Markup Error on wlwplugins.com" href="http://wlwplugins.com/now-playing-22.php" rel="previewlink"&gt;seen this happening&lt;/a&gt;).&lt;/p&gt;&lt;pre&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;a&lt;/span&gt; &lt;span style="color: red"&gt;href&lt;/span&gt;&lt;span style="color: blue"&gt;="%AmazonAlbumUrl%"&amp;gt;&lt;/span&gt;My Mixtape&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;a&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;p&gt;The new &lt;code&gt;%if&lt;/code&gt;&amp;nbsp;statement helps eliminating this shortcoming:&amp;nbsp;Wrap any content that is linked to the availability of a particular placeholder in an &lt;code&gt;%if&lt;/code&gt; statement and Now Playing will create perfectly valid markup. The syntax is pretty easy:&lt;/p&gt;&lt;pre&gt;%if(%placeholder%&amp;lt;content to insert if the placeholder holds a value&amp;gt;)&lt;/pre&gt;
&lt;p&gt;The example above, restructured to&lt;/p&gt;&lt;pre&gt;&lt;strong&gt;%if(%AmazonAlbumUrl%&lt;/strong&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;a&lt;/span&gt; &lt;span style="color: red"&gt;href&lt;/span&gt;&lt;span style="color: blue"&gt;="%AmazonAlbumUrl%"&amp;gt;&lt;/span&gt;&lt;strong&gt;)&lt;/strong&gt;My Mixtape&lt;strong&gt;%if(%AmazonAlbumUrl%&lt;/strong&gt;&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;a&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;&lt;strong&gt;)&lt;/strong&gt;&lt;/pre&gt;
&lt;p&gt;yields&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;pre&gt;My Mixtape
&lt;/pre&gt;if the Amazon plugin could not find&amp;nbsp;the album's URL&amp;nbsp;or
&lt;li&gt;&lt;pre&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;a&lt;/span&gt; &lt;span style="color: red"&gt;href&lt;/span&gt;&lt;span style="color: blue"&gt;="http://www.amazon.com/…"&amp;gt;&lt;/span&gt;My Mixtape&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;a&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;if the Amazon plugin was able to obtain a link to the album's page on Amazon.&lt;/li&gt;&lt;/ul&gt;
&lt;p&gt;Of course you can nest if statements to create dynamic templates. I work now with the following template:&lt;/p&gt;&lt;pre&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;p&lt;/span&gt; &lt;span style="color: red"&gt;class&lt;/span&gt;&lt;span style="color: blue"&gt;="nowPlaying"&amp;gt;&lt;/span&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; Now Playing [&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;a&lt;/span&gt; &lt;span style="color: red"&gt;title&lt;/span&gt;&lt;span style="color: blue"&gt;="Find out about Now Playing"&lt;/span&gt; &lt;span style="color: red"&gt;href&lt;/span&gt;&lt;span style="color: blue"&gt;="http://www.it99.org/axl/Projects/NowPlaying/"&lt;/span&gt; &lt;span style="color: red"&gt;rel&lt;/span&gt;&lt;span style="color: blue"&gt;="previewlink"&amp;gt;&lt;/span&gt;?&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;a&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;]:
&amp;nbsp;&amp;nbsp;&amp;nbsp; %if(%MusicMapArtistUrl%&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;a&lt;/span&gt; &lt;span style="color: red"&gt;href&lt;/span&gt;&lt;span style="color: blue"&gt;="%MusicMapArtistUrl%"&lt;/span&gt; &lt;span style="color: red"&gt;title&lt;/span&gt;&lt;span style="color: blue"&gt;="Display relations of %Artist% to other artists"&amp;gt;&lt;/span&gt;)%Artist%%if(%MusicMapArtistUrl%&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;a&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;) &lt;span style="color: red"&gt;&amp;amp;ndash;&lt;/span&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; %if(%Album%%if(%AmazonAlbumUrl%&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;a&lt;/span&gt; &lt;span style="color: red"&gt;href&lt;/span&gt;&lt;span style="color: blue"&gt;="%AmazonAlbumUrl%"&lt;/span&gt; &lt;span style="color: red"&gt;title&lt;/span&gt;&lt;span style="color: blue"&gt;="Display Amazon page of the %Album% album"&amp;gt;&lt;/span&gt;)%Album%%if(%AmazonAlbumUrl%&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;a&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;) &lt;span style="color: red"&gt;&amp;amp;ndash;&lt;/span&gt; )
&amp;nbsp;&amp;nbsp;&amp;nbsp; %Title%
&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;p&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;p&gt;See the &lt;code&gt;%if(%Album%%if(%AmazonAlbumUrl%…&lt;/code&gt; nested if statements in line 4? I use this to get rid of the whole album part if I'm listening to a song&amp;nbsp;from my mixed playlist where the music has no album tag.&lt;/p&gt;
&lt;p&gt;Now Playing's markup preview currently handles all placeholders as if they're holding values, so you may have to&amp;nbsp;try a little the get your template working as you wish. &lt;strong&gt;In case you're having problems with the syntax, please leave a comment and I'll try to explain.&lt;/strong&gt;&amp;nbsp;&lt;/p&gt;
&lt;h3&gt;Other features, fixed bugs and changes&lt;/h3&gt;
&lt;p&gt;Other little things I've fixed:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;An important notice about the Windows Media Player Plugin:&lt;/strong&gt; You need to install the &lt;a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=61fab618-43cc-4c1c-b385-7cae06926298&amp;amp;DisplayLang=en" rel="previewlink"&gt;Blogging Plug-In&lt;/a&gt; for WMP in order to query the track information. Windows Vista users, please download &lt;a title="Download Song Signature Plugin Powertoy" href="http://www.wmplugins.com/ItemDetail.aspx?ItemID=737" rel="previewlink"&gt;this plugin&lt;/a&gt; which provides the same functionality on Vista (where the Blogging Plug-In refuses to install).
&lt;li&gt;The Amazon plugins allows you to set the&amp;nbsp;search&amp;nbsp;index (&lt;a href="http://www.amazon.com/" rel="previewlink"&gt;Amazon US&lt;/a&gt;, &lt;a href="http://www.amazon.co.uk/" rel="previewlink"&gt;UK&lt;/a&gt;, &lt;a href="http://www.amazon.de/" rel="previewlink"&gt;Germany&lt;/a&gt;, &lt;a href="http://www.amazon.fr/" rel="previewlink"&gt;France&lt;/a&gt;, &lt;a href="http://www.amazon.ca/" rel="previewlink"&gt;Canada&lt;/a&gt;, &lt;a href="http://www.amazon.co.jp/" rel="previewlink"&gt;Japan&lt;/a&gt;)&amp;nbsp;you want use.
&lt;li&gt;Amazon has introduced a new access identifier I wasn't aware of. You can now use your &lt;a title="Amazon Access Identifiers" href="http://www.amazon.com/FAQ-AWS-home-page-Money/b?ie=UTF8&amp;amp;node=3434651&amp;amp;me=A36L942TSJ2AJA&amp;amp;tag2=gp04-20#using2" rel="previewlink"&gt;Amazon Access Key ID&lt;/a&gt; with Now Playing. The possibility to use&amp;nbsp;an &lt;a title="Amazon Access Identifier" href="http://www.amazon.com/FAQ-AWS-home-page-Money/b?ie=UTF8&amp;amp;node=3434651&amp;amp;me=A36L942TSJ2AJA&amp;amp;tag2=gp04-20#using2" rel="previewlink"&gt;Amazon Subscription ID&lt;/a&gt; is provided for backward compatibility.
&lt;li&gt;The iTunes plugin allows you to set if you want to start the iTunes application if it's not running. (iTunes has always been launched before.)
&lt;li&gt;Fixed a minor plugin loading bug and added detailed error messages.
&lt;li&gt;Code cleanup.&lt;/li&gt;&lt;/ul&gt;
&lt;h3&gt;Download&lt;/h3&gt;
&lt;div class="download"&gt;
&lt;p&gt;&lt;img class="download" title="Download" style="margin-right: 4px" alt="Download" src="http://www.it99.org/axl/content/binary/Download.gif"&gt;Download &lt;a href="http://www.it99.org/axl/Projects/NowPlaying/download/NowPlaying-2.3-Setup.zip"&gt;Now Playing 2.3 Windows Live Writer Plugin Setup&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class="download" title="Download" style="margin-right: 4px" alt="Download" src="http://www.it99.org/axl/content/binary/Download.gif"&gt;Download &lt;a href="http://www.it99.org/axl/Projects/NowPlaying/download/NowPlaying-2.3.zip"&gt;Now Playing 2.3 Windows Live Writer Plugin&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class="download" title="Download" style="margin-right: 4px" alt="Download" src="http://www.it99.org/axl/content/binary/Download.gif"&gt;Download &lt;a href="http://www.it99.org/axl/Projects/NowPlaying/download/NowPlaying-2.3-Source.zip"&gt;Now Playing 2.3 Source Code&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;
&lt;p class="now-playing"&gt;Now Playing [&lt;a title="Find out about Now Playing" href="http://www.it99.org/axl/Projects/NowPlaying/" rel="previewlink"&gt;?&lt;/a&gt;]: &lt;a title="Display relations of Wir sind Helden to other artists" href="http://www.music-map.de/wir+sind+helden.html"&gt;Wir sind Helden&lt;/a&gt; – &lt;a title="Display Amazon page of the Von hier an blind album" href="http://www.amazon.de/exec/obidos/ASIN/B0007Q6Q0U/therightstu0e-20"&gt;Von hier an blind&lt;/a&gt; – Wütend genug&lt;/p&gt;</Content>
      <Created>2007-03-11T02:27:24.3421250+01:00</Created>
      <Modified>2007-03-11T04:25:46.5296250+01:00</Modified>
      <EntryId>60de9fe0-633b-4421-ab03-8b65145abf97</EntryId>
      <Title>Now Playing 2.3 Plugin for Windows Live Writer</Title>
      <Categories>Music;Now Playing</Categories>
      <Author>agross</Author>
      <IsPublic>true</IsPublic>
      <Syndicated>true</Syndicated>
      <ShowOnFrontPage>true</ShowOnFrontPage>
      <AllowComments>true</AllowComments>
      <Attachments />
      <Crossposts />
    </Entry>
  </Entries>
</DayEntry>